# 인터넷 통신 
1. 클라이언트 -> 서버로 메시지를 보내려면 클라이언트의 메시지를 인터넷의 중간 노드들을 거쳐서 서버로 보내야한다.
2. 그럼 어떻게 인터넷을 거쳐서 서버로 정확하게 메시지를 보낼까?

### IP(인터넷 프로토콜)
1. IP의 역활은 지정한 IP 주소에 데이터 전달, 패킷(Packet)이라는 통신 단위로 데이터 전달을 한다.
2. IP 패킷 정보에는 출발지 IP, 목적지 IP 등과 전송 데이터를 담아서 보낸다.
3. IP를 따르는 모든 노드들 끼리는 서로 메시지를 주고 받을 수 있다.

### IP의 한계
1. 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송(비연결성)
2. 메시지 크기가 커지면 끊어서 보내는데 중간에 패킷이 사라지거나 순서대로 오지 않는 경우(비신뢰성)
3. 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상인 경우(프로그램 구분)

# TCP(Transmission Control Protocol) ,UDP(User Datagram Protocol)

### IP 스택의 4계층
1. 애플리케이션 계층 - HTTP, FTP (애플리케이션)
2. 전송 계층 - TCP, UDP (OS)
3. 인터넷 계층 - IP (OS)
4. 네트워크 인터페이스 계층 - LAN 드라이버, LAN 장비 (네트워크 인터페이스)
5. 애플리케이션 (프로그램이 메시지 생성 -> SOCKET 라이브러리를 통해 전달) -> TCP 정보 생성, 메시지 데이터 포함 -> IP 패킷 생성, TCP 데이터 포함 -> LAN 카드 -> 인터넷 -> 서버
6. 최종적으로 인터넷으로 나갈때 이렇게 감싸져서 나간다. ( Ethernet frame ( IP ( TCP ( HTTP ) ) )

### TCP/IP 패킷 정보
1. IP 패킷(출발지 IP, 목적지 IP, 기타...) 안에 감싸져서 가는 것이 TCP 세그먼트다.
2. TCP 세그먼트는 출발지 PORT, 목적지 PORT, 전송 제어, 순서, 검증 정보 등이 있다.
3. 그리고 IP 패킷 -> TCP 세그먼트 내부에 전송 데이터를 넣게 된다.
4. TCP 세그먼트 덕분에 같은 IP의 한계(비연결성, 비신뢰성, 프로그램 구분)를 극복 할 수 있다.

### TCP 특징
1. 연결지향 - TCP 3 way handshake (가상 연결) -> 클라이언트와 서버는 SYN, SYN+ACK, ACK(connect, 연결과정)을 거쳐 데이터를 전송한다. (마지막 ACK와 함께 데이터 전송 가능) 
2. 데이터 전달 보증 -> 클라이언트에서 데이터를 전송 후 서버에서 데이터를 받았다는 것을 알려준다.
3. 순서 보장 -> 클라이언트에서 패킷을 나눠서 보낸다. 순서가 맞지 않는 경우 서버에선 다시 순서대로 보내달라고 요청한다.
4. 신뢰할 수 있는 프로토콜 -> TCP 세그먼트에는 검증할 수 있는 정보들이 담겨 있어서 신뢰할 수 있게 된 것이다.
5. 현재는 대부분 TCP 사용

### UDP 특징
1. 기능이 거의 없다. ( 3 way handshake X, 데이터 전달 보증 X, 순서 보장 X)
2. 데이터 전달 및 순서가 보장되지 않지만 단순하고 빠르다. -> TCP는 여러 기능 때문에 메시지가 무겁다. 그리고 수정도 불가능하다. UDP는 거의 하얀 도화지와 같다.
3. IP와 같지만 PORT(하나의 아이피에서 여러 애플리케이션으로 보낼 수 있음)와 체크섬(메시지가 맞는지 검증) 정도만 추가되었고 애플리케이션에서 추가 작업이 필요하다.

# PORT
1. 같은 IP 내에서 프로세스를 구분한다.
2. 0 ~ 65535까지 할당 가능하다. 0 ~ 1023는 잘 알려진 포트라 사용하지 않는 것이 좋다.

# DNS(Domain Name Server)
1. IP는 기억하기 어렵고 변경될 수 있다.
2. DNS는 일종의 전화번호부로 도메인 명을 IP 주소로 변환해준다.